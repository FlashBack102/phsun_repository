<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	    
<mapper namespace="com.example.start.member.persistence.MemberDAO">
	<insert id="boardRegister" parameterType="java.util.Map">
		INSERT INTO board (board_num, 
						   board_writer, 
						   board_subject, 
						   board_content, 
						   board_file
		)
		VALUES(board_seq.nextVal,
			   #{id},
			   #{subject}, 
			   #{content}, 
			   #{file}
		)
	</insert>
	
	<select id="boardCount" resultType="integer">
		SELECT COUNT(*) AS count
		  FROM board
	</select>
	
	<select id="boardList" parameterType="java.util.Map" resultType="BoardVO">
		<![CDATA[
			SELECT *
			  FROM (SELECT RowNum rNum, b.*
			  		  FROM (SELECT *
			  		  	      FROM board
			  		  	     ORDER BY board_num DESC) b)
			 WHERE rNum>=#{startNum} AND rNum<=#{endNum}
		 ]]>
	</select>
	
	<select id="boardRead" resultType="BoardVO">
		SELECT *
		  FROM board
		 WHERE board_num=#{boardNum}
	</select>
</mapper>